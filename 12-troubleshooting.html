<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
<title>12. 排错 | OpenCore 简体中文参考手册(非官方)</title>
<meta name="generator" content="Hexo 5.1.1">
<meta http-equiv="x-dns-prefetch-control" content="on">
<meta name="description" content="由 Sukka 和黑苹果爱好者们维护的 OpenCore 文档简体中文翻译，实时更新 OpenCore 上游文档改动。努力提供权威的 OpenCore 简体中文参考资料。">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="shortcut icon" href="/logo/favicon.ico">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.16.2/styles/github.min.css">
<link rel="stylesheet" href="/theme-doku/css/doku.css">
<link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml">
<link rel="canonical" href="https://oc.skk.moe/12-troubleshooting.html">

</head>

<body>
    

<nav id="doku-navbar" class="navbar is-spaced has-shadow">
    <div class="container">
        <div class="navbar-brand">
            <!-- burger btn -->
            <a role="button" class="navbar-burger burger" id="doku-sidebar-toggle">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>

            <a class="navbar-item" href="https://oc.skk.moe">
                <h1 class="doku-navbar-title">
                    <img src="/logo/navbar.png" height="28">
                    <span class="is-size-4"></span>
                </h1>
            </a>
        </div>
        <div class="navbar-menu">
            <div class="navbar-start">
                
                    <a class="navbar-item" href="/">
                        
                        
                            <span>OpenCore 参考手册(简体中文)</span>
                        
                    </a>
                
                    <a class="navbar-item" href="/search.html">
                        
                            <span class="icon">
                                <i class="fas fa-search"></i>
                            </span>
                        
                        
                            <span>站内搜索</span>
                        
                    </a>
                
                    <a class="navbar-item" target="_blank" rel="noopener" href="https://github.com/SukkaW/OpenCore-Document-zh_Hans">
                        
                            <span class="icon">
                                <i class="fab fa-github"></i>
                            </span>
                        
                        
                            <span>GitHub</span>
                        
                    </a>
                
                <!-- navbar link -->
                <!--<a class="navbar-item">
                Home
            </a>-->
            </div>
            <!-- i18n switch -->
            <div class="navbar-end">
                <!--<div class="navbar-item">
                    <div class="dropdown is-right is-hoverable">
                        <div class="dropdown-trigger">
                            <button class="button" id="navbar-i18n-btn">
                                <span class="icon is-small">
                                    <i class="fas fa-globe-americas" aria-hidden="true"></i>
                                </span>
                                <span>Language</span>
                                <span class="icon is-small">
                                    <i class="fas fa-angle-down" aria-hidden="true"></i>
                                </span>
                            </button>
                        </div>
                        <div class="dropdown-menu">
                            <div class="dropdown-content">
                                <a href="#" class="dropdown-item">
                                    Dropdown item
                                </a>
                                <a class="dropdown-item">
                                    Other dropdown item
                                </a>
                                <a href="#" class="dropdown-item">
                                    Active dropdown item
                                </a>
                                <a href="#" class="dropdown-item">
                                    Other dropdown item
                                </a>
                            </div>
                        </div>
                    </div>
                </div>-->
            </div>
        </div>
    </div>
</nav>


    <div class="container-fluid">
        <section class="main-content">
            


<aside class="doku-sidebar" id="doku-sidebar">
    <div class="doku-sidebar-content">
        <div class="menu">
            
                <ul class="menu-list is-hidden-desktop">
                    
                        
                            <li><a href="/">OpenCore 参考手册(简体中文)</span></a></li>
                        
                    
                        
                            <li><a href="/search.html">站内搜索</span></a></li>
                        
                    
                        
                            <li><a target="_blank" rel="noopener" href="https://github.com/SukkaW/OpenCore-Document-zh_Hans">GitHub</span></a></li>
                        
                    
                </ul>
            
            <hr class="is-hidden-desktop">
            
                
                    <ul class="menu-list">
                        
                            <li><a  href="/">0. 首页</a></li>
                        
                            <li><a  href="/1-introduction.html">1. 简介</a></li>
                        
                            <li><a  href="/2-configuration.html">2. 配置</a></li>
                        
                            <li><a  href="/3-setup.html">3. Setup</a></li>
                        
                            <li><a  href="/4-acpi.html">4. ACPI</a></li>
                        
                            <li><a  href="/5-booter.html">5. Booter</a></li>
                        
                            <li><a  href="/6-device-properties.html">6. DeviceProperties</a></li>
                        
                            <li><a  href="/7-kernel.html">7. Kernel</a></li>
                        
                            <li><a  href="/8-misc.html">8. Misc</a></li>
                        
                            <li><a  href="/9-nvram.html">9. NVRAM</a></li>
                        
                            <li><a  href="/10-platform-info.html">10. PlatformInfo</a></li>
                        
                            <li><a  href="/11-uefi.html">11. UEFI</a></li>
                        
                            <li><a class="is-current" href="/12-troubleshooting.html">12. 排错</a></li>
                        
                            <li><a  href="/kextlist.html">附录 1. OpenCore 兼容 Kext 列表</a></li>
                        
                    </ul>
                
            
        </div>
    </div>
</aside>

            <main class="is-paddingless doku-main-wrapper" id="doku-main">
                

<article class="doku-document-container clearfix">
    <header class="hero is-light" id="doku-document-hero">
        <div class="hero-body">
            <h1 class="title">12. 排错</h1>
            
                <p class="subtitle">当你遇到问题的时候应该看看这个</p>
            
            
                
                    <p><small>由 xMuu、Sukka、derbalkon 整理，由 Sukka、derbalkon 翻译</small></p>
                
                
                    <p><small>本页面最后更新于 2021 年 01 月 31 日</small></p>
                
                <br>
            
            
                <a href="https://github.com/sukkaw/OpenCore-Document-zh_Hans/tree/master/source/12-troubleshooting.md" target="_blank" rel="external nofollow noreferrer noopener" class="button is-small is-rounded is-black"><span class="icon is-small"><i class="fab fa-github"></i></span><span>在 GitHub 上编辑</span></a>
            
        </div>
    </header>
    <div class="columns">
        <div class="column is-9-tablet doku-document-wrapper">
            <div class="content">
                <h2 id="12-1-旧版-Apple-操作系统"><a href="#12-1-旧版-Apple-操作系统" class="headerlink" title="12.1 旧版 Apple 操作系统"></a>12.1 旧版 Apple 操作系统</h2><p>旧版操作系统的安装可能比较复杂，但有时出于各种原因还是需要用到。主板标识符和 CPUID 的兼容性是旧版操作系统正常运行的基础，除此之外还有一些细枝末节的事情需要注意。本章节将尽量阐述与旧版 macOS 操作系统相关的一系列常见问题。</p>
<p>尽管较新的操作系统可以通过互联网下载，但旧版操作系统并不是每个次要版本都有安装介质的，因此要想获得兼容的发行版，可能需要下载特定设备的镜像，并在必要时进行修改。Mac 电脑随附的 macOS 旧版本和旧版号列表，可以从这篇 Apple 支持的 <a target="_blank" rel="noopener" href="https://web.archive.org/web/20170713214411/https://support.apple.com/zh-cn/HT204319">存档文章</a> 中找到，但由于它并不一定准确，下面列出了一些旧版 Apple 操作系统最后发布的版本。</p>
<h3 id="1-macOS-10-8-和-10-9"><a href="#1-macOS-10-8-和-10-9" class="headerlink" title="1. macOS 10.8 和 10.9"></a>1. macOS 10.8 和 10.9</h3><ul>
<li>这两个系统的磁盘映像使用的是 Apple 分区方案（Apple Partitioning Scheme），需要 <code>OpenPartitionDxe</code> 驱动程序来进行 DMG 恢复和安装（OpenDuet 中也同样需要）。可以将 <code>DmgLoading</code> 设置为 <code>Disabled</code>，这样就可以在不加载 DMG 的情况下运行恢复功能，同时也避免了 <code>OpenPartitionDxe</code> 的需求。</li>
<li>缓存的内核映像通常不包括网络（<code>IONetworkingFamily</code>）或音频（<code>IOAudioFamily</code>）的家族驱动，这些家族驱动往往需要使用 <code>Force</code> 加载来注入。</li>
</ul>
<h3 id="2-macOS-10-7"><a href="#2-macOS-10-7" class="headerlink" title="2. macOS 10.7"></a>2. macOS 10.7</h3><ul>
<li>同上。</li>
<li><code>SSSE3</code> 支持（不要和 <code>SSE3</code> 混淆）是 macOS 10.7 内核的硬性要求。</li>
<li>包括 Lilu（使用 32 位内核时）及其插件在内的许多 Kext 在 macOS 10.7 或更低版本上都不支持，它们所需的内核 API 比较新，不在 macOS 10.7 SDK 之中。</li>
<li>macOS 10.8 之前的系统不支持 KASLR slide，因此会导致内存较低的固件分配内存失败，详见 <a target="_blank" rel="noopener" href="https://github.com/acidanthera/bugtracker/issues/1125">acidanthera/bugtracker#1125</a>。</li>
</ul>
<h3 id="3-macOS-10-6"><a href="#3-macOS-10-6" class="headerlink" title="3. macOS 10.6"></a>3. macOS 10.6</h3><ul>
<li>上述问题均存在。</li>
<li><code>SSSE3</code> 支持是启用了 64 位用户空间的 macOS 10.6 内核的要求。这个限制大多可以通过启用 <code>LegacyCommpage</code> Quirk 来解除。</li>
<li>最近发布的 macOS 10.6 安装镜像为 macOS 10.6.7 版本号 <code>10J3250</code>（<code>MacBookPro8,x</code> 专用）和 <code>10J4139</code>（<code>iMac12,x</code> 专用，不含 Xcode）。这些镜像仅限于特定的几款机型，并且不支持使用 <code>-no_compat_check</code> 来忽略兼容性检查。如果你拥有 macOS 10.6 的合法副本，又不想被上述限制所约束，可以在 <a target="_blank" rel="noopener" href="https://archive.org/details/10.6.7-10j3250-disk-images">这里</a>（或 <a target="_blank" rel="noopener" href="https://mega.nz/folder/z5YUhYTb#gA_IRY5KMuYpnNCg7kR3ug">MEGA 镜像</a>）找到无机型限制的修改版镜像（<code>ACDT</code> 后缀），更多细节在 <code>DIGEST.txt</code> 中。记住，这些都是经过 OpenCore 测试的最早的 macOS 10.6 版本。</li>
</ul>
<p>机型检查可以被手动去除，大体思路是用 <code>Flat Package Editor</code> 之类的工具编辑 <code>OSInstall.mpkg</code>，让 <code>Distribution</code> 脚本在 <code>hwbeModelCheck</code> 函数中总是返回 <code>true</code>。仅更新映像中某一的文件而不影响到其他文件是相当困难的，而且还有可能因为内核缓存日期的改变而导致启动速度变慢，因此建议按照如下命令重建映像：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment"># Original.dmg is original image, OSInstall.mpkg is patched package</span><br>mkdir RO<br>hdiutil mount Original.dmg -noverify -noautoopen -noautoopenrw -noautofsck -mountpoint RO cp RO/.DS_Store DS_STORE<br>hdiutil detach RO -force<br>rm -rf RO<br>hdiutil convert Original.dmg -format UDRW -o ReadWrite.dmg<br>mkdir RW<br>xattr -c OSInstall.mpkg<br>hdiutil mount ReadWrite.dmg -noverify -noautoopen -noautoopenrw -noautofsck -mountpoint RW cp OSInstall.mpkg RW/System/Installation/Packages/OSInstall.mpkg<br>killall Finder fseventsd<br>rm -rf RW/.fseventsd<br>cp DS_STORE RW/.DS_Store<br>hdiutil detach RW -force<br>rm -rf DS_STORE RW<br></code></pre></td></tr></table></figure>

<h3 id="4-macOS-10-5"><a href="#4-macOS-10-5" class="headerlink" title="4. macOS 10.5"></a>4. macOS 10.5</h3><ul>
<li>上述问题均存在。</li>
<li>这个版本的 macOS 不支持 <code>x86_64</code> 内核，需要 <code>i386</code> 内核扩展和补丁。</li>
<li>这个版本的 macOS 使用了第一个版本（V1）的 <code>prelinkedkernel</code>，但它的 Kext 符号表被 Kext 工具破坏了。这个细微的差别使得 <code>prelinkedkernel</code> Kext 无法被 OpenCore 注入。<code>Mkext</code> Kext 的注入仍然正常，也不会有明显的性能消耗，而且当 <code>KernelCache</code> 设置为 <code>Auto</code> 时，<code>Mkext</code> 会被自动选择。</li>
<li>最后发布的 macOS 10.5 的安装镜像是 macOS 10.5.7 版本号 <code>9J3050</code>（<code>MacBookPro5,3</code> 专用）。与其他版本系统不同的是，这个镜像不受机型限制，可以原样使用。如果你拥有 macOS 10.5 的合法副本，可以在 <a target="_blank" rel="noopener" href="https://archive.org/details/10.5.7-9-j-3050">这里</a>（或 <a target="_blank" rel="noopener" href="https://mega.nz/folder/inRBTarD#zanf7fUbviwz3WHBU5xpCg">MEGA 镜像</a>）找到原始的 <code>9J3050</code> 镜像，更多细节在 <code>DIGEST.txt</code> 中。注意，这是经过 OpenCore 测试的最早的 macOS 10.5 版本。</li>
</ul>
<h3 id="5-macOS-10-4"><a href="#5-macOS-10-4" class="headerlink" title="5. macOS 10.4"></a>5. macOS 10.4</h3><ul>
<li>上述问题均存在。</li>
<li>这个版本的 macOS 有一个硬性要求，即需要两张光盘或两个 USB 安装介质来访问第二张 DVD 盘安装介质上的所有可选包。</li>
<li>最后发布的 macOS 10.4 的安装镜像是 macOS 10.4.10 版本号 <code>8R4061a</code>（<code>MacBookPro3,1</code> 专用）和 <code>8R4088</code>（<code>iMac7,1</code> 专用）。这些镜像与新版 macOS 一样，仅限于特定的几款机型。如果你拥有 macOS 10.4 的合法副本，可以在 <a target="_blank" rel="noopener" href="https://archive.org/details/10.4.10-8-r-4088-acdt">这里</a>（或 <a target="_blank" rel="noopener" href="https://mega.nz/folder/D3ASzLzA#7sjYXE2X09f6aGjol_C7dg">MEGA 镜像</a>）找到无机型限制的修改版 <code>8R4088</code> 镜像（后缀为 <code>ACDT</code>），更多细节在 <code>DIGEST.txt</code> 中。注意，这些是经过 OpenCore 测试的最早的 macOS 10.4 版本。</li>
</ul>
<h2 id="12-2-UEFI-安全启动"><a href="#12-2-UEFI-安全启动" class="headerlink" title="12.2 UEFI 安全启动"></a>12.2 UEFI 安全启动</h2><p>OpenCore 的设计初衷是在 固件 和 操作系统 之间提供一个安全的启动链。在大多数 x86 平台上，可信加载（Trusted Loading）是通过 <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/UEFI_Secure_Boot">UEFI 安全启动</a> 模式实现的。OpenCore 不仅完全支持这种模式，还扩展了它的功能，以确保通过 <a href="8-misc.html#12-Vault">Vault</a> 进行配置的加密存储，并使用自定义的验证过程向操作系统提供可信加载，例如 <a href="8-misc.html#14-SecureBootModel">Apple 安全启动</a>。正确的安全启动链需要通过以下步骤来仔细配置：</p>
<ol>
<li>如果要启动的系统是 macOS，则需要通过设置 <code>SecureBootModel</code> 来启用 Apple 安全启动。请注意，并不是每个 macOS 版本都能使用 Apple 安全启动，具体限制详见 <a href="8-misc.html#14-SecureBootModel">Apple 安全启动</a> 章节。</li>
<li>旧的 DMG 恢复镜像往往很脆弱、易受攻击，如果担心因为加载它而突破防线，可以通过设置 <code>DmgLoading</code> 为 <code>Disabled</code> 来禁用 DMG 加载。<strong>非必需</strong>，但建议使用。参阅 <a href="8-misc.html#6-DmgLoading">DMG 加载</a> 部分来权衡利弊。</li>
<li>将 <code>MinDate</code> 和 <code>MinVersion</code> 设置为 <code>0</code>，以确保 APFS JumpStart 功能限制旧的驱动程序加载。更多细节参见 <a href="11-uefi.html#11-7-APFS-属性">APFS JumpStart</a> 部分。除此之外，手动安装 <code>apfs.efi</code> 驱动也可以达到相同效果。</li>
<li>确保你想要运行的操作系统不加载 <code>Force</code> 驱动也能正常启动。</li>
<li>确保使用 <code>ScanPolicy</code> 限制加载不受信任的设备。要想做到足够安全，最好的办法是禁止加载 所有可移动设备 和 未知的文件系统。</li>
<li>使用私钥给所有已安装的驱动程序和工具签名。不要对提供管理员权限的工具（如 UEFI Shell）签名。</li>
<li>加密存储你的配置，详见 <a href="8-misc.html#12-Vault">Vault</a> 部分。</li>
<li>使用同一私钥签名该系统使用的所有 OpenCore 二进制文件（<code>BOOTX64.efi</code>, <code>BOOTIa32.efi</code>, <code>OpenCore.efi</code>, 自定义启动器）。</li>
<li>如果需要用到第三方操作系统（非微软或 Apple 制造）的 bootloader，也同样为它们签名。对于 Linux，可以选择安装微软签名的 Shim bootloader，具体解释见 <a target="_blank" rel="noopener" href="https://wiki.debian.org/SecureBoot">Debian Wiki</a>。</li>
<li>在 BIOS 中开启 UEFI 安全启动，并用自己的私钥安装证书。很多文章都介绍了生成证书的具体方法，比如 <a target="_blank" rel="noopener" href="https://habr.com/en/post/273497">这篇文章</a>，本文档不再赘述。如果需要启动 Windows，还需要添加 <a target="_blank" rel="noopener" href="http://go.microsoft.com/fwlink/?LinkID=321192">Microsoft Windows Production CA 2011</a> 证书。如果需要启动 Option ROM，或决定使用已签名的 Linux 驱动程序，还需要添加 <a target="_blank" rel="noopener" href="http://go.microsoft.com/fwlink/?LinkId=321194">Microsoft UEFI Driver Signing CA</a>。</li>
<li>设置密码保护防止固件设置被篡改，避免 UEFI 安全启动在你不知情的情况下被禁用。</li>
</ol>
<h2 id="12-3-Windows-支持"><a href="#12-3-Windows-支持" class="headerlink" title="12.3 Windows 支持"></a>12.3 Windows 支持</h2><h3 id="1-我能安装-Windows-系统吗？"><a href="#1-我能安装-Windows-系统吗？" class="headerlink" title="1. 我能安装 Windows 系统吗？"></a>1. 我能安装 Windows 系统吗？</h3><p>虽然 OpenCore 并没有提供官方的 Windows 支持，但是使用 Boot Camp 安装 64 位 UEFI Windows（即 Windows 8 及更高版本）应该是可以正常工作的。安装第三方 UEFI、或者仅部分支持 UEFI 引导的系统（如 Windows 7）可能需要额外注意。不论如何，记住以下几点：</p>
<ul>
<li>MBR (Master Boot Record) 属于 Legacy 引导，因此将不会被支持。</li>
<li>在 OpenCore 上应用的所有更改（ACPI、NVRAM、SMBIOS）都应该与操作系统本身无关。OpenCore 会将这些改动生效于所有操作系统，这样在 Windows 上可以获得 Boot Camp 的体验。</li>
<li>macOS 要求硬盘中的第一份分区为 EFI 分区，并且与 Windows 的默认布局不支持。尽管 OpenCore 确实提供了一个 <a target="_blank" rel="noopener" href="https://github.com/acidanthera/bugtracker/issues/327">解决方法</a>，但是强烈建议不要依赖这个方法。</li>
<li>Windows 系统可能需要重新激活。为了避免这种情况发生，请考虑将 SystemUUID 设置为原始固件的 UUID。请注意，在旧固件上 UUID 可能是无效的（非随机的）。如果你还遇到了什么问题，可以考虑使用 HWID 或 KMS38 的 Windows 许可证。从 OpenCore 0.5.8 开始，你还可以通过设置 <code>UpdateSMBIOSMode</code> 为 <code>Custom</code> 来避免 OEM 激活失效。Windows 激活的细节不在本文档的讨论范围内，你应该能够在网上查找到相关资料。</li>
</ul>
<h3 id="2-我需要安装其他什么软件吗？"><a href="#2-我需要安装其他什么软件吗？" class="headerlink" title="2. 我需要安装其他什么软件吗？"></a>2. 我需要安装其他什么软件吗？</h3><p>在大多数情况下，要启用多操作系统切换、安装相关驱动程序，你将需要 <a target="_blank" rel="noopener" href="https://support.apple.com/boot-camp">Boot Camp</a> 提供的 Windows 支持软件。为了简化下载过程、或者配置硬盘中已经安装好的 Windows，可以使用 <a target="_blank" rel="noopener" href="https://github.com/timsutton/brigadier">Brigadier</a> 这个实用软件。请注意在使用 Brigadier 之前，你可能需要先下载并安装 <a target="_blank" rel="noopener" href="https://www.7-zip.org">7-Zip</a>。</p>
<blockquote>
<p>译者注：<a target="_blank" rel="noopener" href="https://sparanoid.com/lab/7z/">7-zip 官方中文网站</a></p>
</blockquote>
<p>记住，一定要使用最新版本的 Boot Camp 的 Windows 支持软件。6.1 之前的版本不支持 APFS 文件系统、因此无法运行。要下载最新的软件，请将最新 Mac 的型号作为参数传递给 Brigadier，如 <code>./brigadier.exe -m iMac19,1</code>。之后，在不受支持的 Mac 型号上安装 Boot Camp，请以管理员身份运行 PowerShell，输入 <code>msiexec /i BootCamp.msi</code> 即可。如果你之前不小心已经安装了旧版本的 Boot Camp，则必须先通过运行 <code>msiexec /x BootCamp.msi</code> 将其卸载。<code>BootCamp.msi</code> 文件位于 <code>BootCamp/Drivers/Apple</code> 目录中、可以通过资源管理器访问。</p>
<blockquote>
<p>译者注：在资源管理器下，按住 <kbd>Shift</kbd> 同时右击窗口中空白处，此时菜单中会显示「在此处运行 PowerShell」，即在当前目录下运行 PowerShell。但是这种方式启动的 PowerShell 不具备管理员权限。</p>
</blockquote>
<p>尽管 Boot Camp 提供的 Windows 支持软件解决了大多数兼容性问题，但是有时候您还是需要手动解决一些问题：</p>
<ul>
<li><p>要反转鼠标滚轮的滚动方向，必须按照 <a target="_blank" rel="noopener" href="https://superuser.com/a/364353">这个网站</a> 提供的方法、设置 <code>FlipFlopWheel</code> 的值为 <code>1</code>。</p>
<blockquote>
<p>译者注：<br>涉及到的注册表是 <code>HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Enum\HID\VID_???\VID_???\Device Parameters.</code><br>你可以在 PowerShell 中执行下述命令进行设置；</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 获取当前设置</span><br><span class="hljs-built_in">Get-ItemProperty</span> HKLM:\SYSTEM\CurrentControlSet\<span class="hljs-class"><span class="hljs-keyword">Enum</span>\<span class="hljs-title">HID</span>\*\*\<span class="hljs-title">Device</span>` <span class="hljs-title">Parameters</span> <span class="hljs-title">FlipFlopWheel</span> -<span class="hljs-title">EA</span> 0</span><br><span class="hljs-class"># 修改设置</span><br><span class="hljs-class"># 鼠标滚动方向 相反 <span class="hljs-title">FlipFlopWheel</span> 1</span><br><span class="hljs-class"># 鼠标滚动方向 自然滚动 <span class="hljs-title">FlipFlopWheel</span> 0</span><br><span class="hljs-class"><span class="hljs-title">Get</span>-<span class="hljs-title">ItemProperty</span> <span class="hljs-title">HKLM</span>:\<span class="hljs-title">SYSTEM</span>\<span class="hljs-title">CurrentControlSet</span>\<span class="hljs-title">Enum</span>\<span class="hljs-title">HID</span>\*\*\<span class="hljs-title">Device</span>` <span class="hljs-title">Parameters</span> <span class="hljs-title">FlipFlopWheel</span> -<span class="hljs-title">EA</span> 0 | <span class="hljs-title">ForEach</span>-<span class="hljs-title">Object</span></span> &#123; <span class="hljs-built_in">Set-ItemProperty</span> <span class="hljs-variable">$_</span>.PSPath FlipFlopWheel <span class="hljs-number">1</span> &#125;<br></code></pre></td></tr></table></figure>

<p>如果需要撤销更改，可以使用下述命令：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-comment"># 恢复鼠标滚动方向</span><br><span class="hljs-built_in">Get-ItemProperty</span> HKLM:\SYSTEM\CurrentControlSet\<span class="hljs-class"><span class="hljs-keyword">Enum</span>\<span class="hljs-title">HID</span>\*\*\<span class="hljs-title">Device</span>` <span class="hljs-title">Parameters</span> <span class="hljs-title">FlipFlopWheel</span> -<span class="hljs-title">EA</span> 1 | <span class="hljs-title">ForEach</span>-<span class="hljs-title">Object</span></span> &#123; <span class="hljs-built_in">Set-ItemProperty</span> <span class="hljs-variable">$_</span>.PSPath FlipFlopWheel <span class="hljs-number">0</span> &#125;<br></code></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p><code>RealTimeIsUniversal</code> 必须设置为 <code>1</code> 以避免 Windows 和 macOS 之间的时间不同步。</p>
<blockquote>
<p>译者注：众所周知，Windows 将硬件时间视为本地时间，而 macOS 会计算 UTC 后当做系统时间。通过修改上述提到的注册表值，可以让 Windows 将硬件时间视为 UTC 时间。用到的 CMD 命令如下所示：</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs cmd">Reg add HKLM\SYSTEM\CurrentControlSet\Control\TimeZoneInformation /v RealTimeIsUniversal /t REG_DWORD /d <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>如果要访问 Apple 的文件系统（APFS、HFS），你可能需要安装单独的软件。已知的工具有 <a target="_blank" rel="noopener" href="https://forums.macrumors.com/threads/apple-hfs-windows-driver-download.1368010/">Apple HFS+ driver</a> (<a target="_blank" rel="noopener" href="https://forums.macrumors.com/threads/apple-hfs-windows-driver-download.1368010/post-24180079">hack for Windows 10</a>)、<a target="_blank" rel="noopener" href="http://www.catacombae.org/hfsexplorer">HFSExplorer</a>、MacDrive、Paragon APFS、Paragon HFS+、TransMac，等等。</p>
<blockquote>
<p>译者注：<strong>切记不要在 Windows 下写入 APFS 或 HFS，十有八九你会导致分区表错误和无法恢复的数据丢失。别怪我们没有警告过你！！</strong></p>
</blockquote>
</li>
</ul>
<h3 id="3-为什么我会在-Boot-Camp-启动硬盘-控制面板-中看到-Basic-data-partition？"><a href="#3-为什么我会在-Boot-Camp-启动硬盘-控制面板-中看到-Basic-data-partition？" class="headerlink" title="3. 为什么我会在 Boot Camp 启动硬盘 控制面板 中看到 Basic data partition？"></a>3. 为什么我会在 Boot Camp 启动硬盘 控制面板 中看到 <code>Basic data partition</code>？</h3><p>Boot Camp 使用 GPT 分区表获取每个引导选项的名称。独立安装 Windows 后，你必须手动重新标记分区。这可以通过许多工具完成，比如开源的 <a target="_blank" rel="noopener" href="https://sourceforge.net/projects/gptfdisk">gdisk</a>，使用方法如下：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs powershell"><span class="hljs-built_in">PS</span> C:\gdisk&gt; .\gdisk64.exe \\.\physicaldrive0<br>GPT fdisk (gdisk) version <span class="hljs-number">1.0</span>.<span class="hljs-number">4</span><br><br>Command (? <span class="hljs-keyword">for</span> help): p<br>Disk \\.\physicaldrive0: <span class="hljs-number">419430400</span> sectors, <span class="hljs-number">200.0</span> GiB<br>Sector size (logical): <span class="hljs-number">512</span> bytes<br>Disk identifier (GUID): DEC57EB1<span class="hljs-literal">-B3B5</span><span class="hljs-literal">-49B2</span><span class="hljs-literal">-95F5</span><span class="hljs-literal">-3B8C4D3E4E12</span><br>Partition table holds up to <span class="hljs-number">128</span> entries<br>Main partition table begins at sector <span class="hljs-number">2</span> and ends at sector <span class="hljs-number">33</span><br>First usable sector is <span class="hljs-number">34</span>, last usable sector is <span class="hljs-number">419430366</span><br>Partitions will be aligned on <span class="hljs-number">2048</span><span class="hljs-literal">-sector</span> boundaries<br>Total free space is <span class="hljs-number">4029</span> sectors (<span class="hljs-number">2.0</span> MiB)<br><br>Number  <span class="hljs-built_in">Start</span> (sector)    <span class="hljs-keyword">End</span> (sector)  Size       Code  Name<br>   <span class="hljs-number">1</span>            <span class="hljs-number">2048</span>         <span class="hljs-number">1023999</span>   <span class="hljs-number">499.0</span> MiB   <span class="hljs-number">2700</span>  Basic <span class="hljs-keyword">data</span> partition<br>   <span class="hljs-number">2</span>         <span class="hljs-number">1024000</span>         <span class="hljs-number">1226751</span>   <span class="hljs-number">99.0</span> MiB    EF00  EFI system partition<br>   <span class="hljs-number">3</span>         <span class="hljs-number">1226752</span>         <span class="hljs-number">1259519</span>   <span class="hljs-number">16.0</span> MiB    <span class="hljs-number">0</span>C01  Microsoft reserved ...<br>   <span class="hljs-number">4</span>         <span class="hljs-number">1259520</span>       <span class="hljs-number">419428351</span>   <span class="hljs-number">199.4</span> GiB   <span class="hljs-number">0700</span>  Basic <span class="hljs-keyword">data</span> partition<br><br>Command (? <span class="hljs-keyword">for</span> help): c<br>Partition number (<span class="hljs-number">1</span><span class="hljs-literal">-4</span>): <span class="hljs-number">4</span><br>Enter name: BOOTCAMP<br><br>Command (? <span class="hljs-keyword">for</span> help): w<br><br>Final checks complete. About to <span class="hljs-built_in">write</span> GPT <span class="hljs-keyword">data</span>. THIS WILL OVERWRITE EXISTING PARTITIONS!!<br><br><span class="hljs-keyword">Do</span> you want to proceed? (Y/N): Y<br>OK; writing new GUID partition table (GPT) to \\.\physicaldrive0.<br>Disk synchronization succeeded! The computer should now use the new partition table.<br>The operation has completed successfully.<br></code></pre></td></tr></table></figure>

<center><em><strong>Listing 4</strong>: 重新标记 Windows 卷宗</em></center>

<h3 id="4-如何选择-NTFS-驱动程序"><a href="#4-如何选择-NTFS-驱动程序" class="headerlink" title="4. 如何选择 NTFS 驱动程序"></a>4. 如何选择 NTFS 驱动程序</h3><p>提供 NTFS 读写支持的第三方驱动程序，如 <a target="_blank" rel="noopener" href="https://www.tuxera.com/community/open-source-ntfs-3g">NTFS-3G</a>、Paragon NTFS、Tuxera NTFS 或 <a target="_blank" rel="noopener" href="https://www.seagate.com/support/software/paragon">希捷移动硬盘 Paragon 驱动程序</a> 会破坏 macOS 的功能，比如 系统偏好设置 中的 <a target="_blank" rel="noopener" href="https://support.apple.com/HT202796">启动磁盘</a> 选项。<br>虽然我们仍然不建议使用这些经常破坏文件系统的驱动程序（我们推荐使用 macOS 内建的 NTFS 读写支持，可以通过 <a target="_blank" rel="noopener" href="http://osxdaily.com/2013/10/02/enable-ntfs-write-support-mac-os-x">终端</a> 或 <a target="_blank" rel="noopener" href="https://mounty.app">GUI</a> 启用），但是这些驱动程序的厂商也提供了他们各自的解决方案，在这里我们仅列举两个：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.tuxera.com/products/tuxera-ntfs-for-mac/faq">Tuxera 的常见问题解答页面</a></li>
<li><a target="_blank" rel="noopener" href="https://kb.paragon-software.com/article/6604">Paragon 相关的技术支持文档</a></li>
</ul>
<blockquote>
<p>译者注：虽然 acidanthera 团队推荐使用 macOS 内置的 NTFS 支持，但是译者强烈反对这种方法（不论是直接方法还是使用类似 Mounty 的第三方工具）。修改 fstab 的风险是极高的。在你清楚你在做什么之前，不要轻举妄动！！</p>
</blockquote>
<h2 id="12-4-调试"><a href="#12-4-调试" class="headerlink" title="12.4 调试"></a>12.4 调试</h2><p>与其他硬件相关的项目类似，OpenCore 也支持审计与调试。使用 <code>NOOPT</code> 或 <code>DEBUG</code> 构建版本（而非 <code>RELEASE</code> 构建版本）可以产生更多的调试输出。对于 <code>NOOPT</code> 构建版本，你还可以使用 GDB 或 IDA Pro 进行调试。对于 GDB 请查看 <a target="_blank" rel="noopener" href="https://github.com/acidanthera/OpenCorePkg/tree/master/Debug">OpenCore Debug</a> 相关页面；对于 IDA Pro，你需要 7.3 或更高版本，更多详细信息请参考 IDA Pro 提供的页面：<a target="_blank" rel="noopener" href="https://www.hex-rays.com/products/ida/support/tutorials/index.shtml">Debugging the XNU Kernel with IDA Pro</a>。</p>
<p>可以使用串口调试来获取启动过程中的日志。串口调试是在 <code>Target</code> 中开启的，例如 <code>0xB</code> 代表在屏幕上显示并输出串行。可使用 <code>SerialInit</code> 配置选项来初始化串行。对于 macOS 来说，最好是选择基于 CP2102 的 UART 设备。将主板 <code>TX</code> 连接到 USB UART <code>RX</code>，主板 <code>GND</code> 连接到 USB UART <code>GND</code>。使用 <code>screen</code> 实用工具，或者下载 GUI 软件获取输出，如 <a target="_blank" rel="noopener" href="https://freeware.the-meiers.org">CoolTerm</a>。</p>
<p><em>注</em>：在一些主板（可能还有一些 USB UART 转换器）上，PIN 的命名可能是不正确的。<code>GND</code> 和 <code>RX</code> 互换是很常见的，因此你需要将主板 <code>&quot;TX&quot;</code> 连接到 USB UART <code>GND</code>，主板 <code>&quot;GND&quot;</code> 连接到 USB UART <code>RX</code>。</p>
<p>务必记得在固件设置中启用 <code>COM</code> 口，一定不要使用超过 1 米的 USB 线缆，以免输出数据损坏。如果要额外启用 XNU 内核串行输出，则需要添加 <code>debug=0x8</code> 启动参数。</p>
<h2 id="12-5-技巧和窍门"><a href="#12-5-技巧和窍门" class="headerlink" title="12.5 技巧和窍门"></a>12.5 技巧和窍门</h2><h3 id="1-啊呀呀呀我系统没法启动了我该怎么看日志啊？"><a href="#1-啊呀呀呀我系统没法启动了我该怎么看日志啊？" class="headerlink" title="1. 啊呀呀呀我系统没法启动了我该怎么看日志啊？"></a>1. 啊呀呀呀我系统没法启动了我该怎么看日志啊？</h3><p>通常情况下，获取实际的错误信息就足够了。为此，请确保：</p>
<ul>
<li>你正在使用 OpenCore 的 <code>DEBUG</code> 或 <code>NOOPT</code> 版本。</li>
<li>日志已启用（<code>1</code>）并且在屏幕上显示（<code>2</code>）：<code>Misc → Debug → Target = 3</code>.</li>
<li>将以下这些等级的日志输出到屏幕上：<code>DEBUG_ERROR</code> (<code>0x80000000</code>)、<code>DEBUG_WARN</code> (<code>0x00000002</code>) 和 <code>DEBUG_INFO</code> (<code>0x00000040</code>)：<code>Misc → Debug → DisplayLevel = 0x80000042</code>.</li>
<li>遇到 <code>DEBUG_ERROR</code> 这样的致命错误时中止启动：<code>Misc → Security → HaltLevel = 0x80000000</code>。</li>
<li>禁用 Watch Dog 以避免自动重启：<code>Misc → Debug → DisableWatchDog = true</code>。</li>
<li>已启用 启动菜单 显示：<code>Misc → Boot → ShowPicker = true</code></li>
</ul>
<p>如果你在日志中看不出明显的错误，请逐一检查 <code>Quirks</code> 部分中可用的 hacks。例如，对于 Early Boot 出现的问题（如 OpenCore 启动菜单无法显示），通过 <code>UEFI Shell</code>（随 OpenCore 打包在一起）可以查看相关调试信息。</p>
<h3 id="2-macOS-启动失败我该怎么调试？"><a href="#2-macOS-启动失败我该怎么调试？" class="headerlink" title="2. macOS 启动失败我该怎么调试？"></a>2. macOS 启动失败我该怎么调试？</h3><ul>
<li>在 <code>boot-args</code> 中添加 <code>debug=0x100</code>、<code>keepsyms=1</code>、<code>-v</code> 或其他类似的值。</li>
<li>不要忘记开启 <code>AppleDebug</code> 和 <code>ApplePanic</code> 属性。</li>
<li>调整 <code>Booter</code>、<code>Kernel</code> 和 <code>UEFI</code> 里的 Quirk。</li>
<li>可以考虑通过串行端口来检查早期的内核启动失败。为此你可能需要用到 <code>debug=0x108</code>、<code>serial=5</code> 和 <code>msgbuf=1048576</code> 启动参数。如果在串行初始化前就失败了，Sample.plist 中有相关补丁供你参考。</li>
<li>一定要仔细阅读日志。</li>
</ul>
<h3 id="3-如何自定义启动项？"><a href="#3-如何自定义启动项？" class="headerlink" title="3. 如何自定义启动项？"></a>3. 如何自定义启动项？</h3><p>OpenCore 遵循 Apple Bless 标准模型、从引导目录中的 <code>.contentDetails</code> 和 <code>.disk_label.contentDetails</code> 文件中提取条目名称。这些文件包含带有输入标题的 ASCII 字符串，你可以修改它们。</p>
<h3 id="4-如何选择默认启动的系统？"><a href="#4-如何选择默认启动的系统？" class="headerlink" title="4. 如何选择默认启动的系统？"></a>4. 如何选择默认启动的系统？</h3><p>OpenCore 使用 UEFI 首选启动项 来选择默认的启动项。设置的方式随 BIOS 不同而不同，具体请参考 macOS <a target="_blank" rel="noopener" href="https://support.apple.com/HT202796">启动磁盘</a> 或 Windows <a target="_blank" rel="noopener" href="https://support.apple.com/guide/bootcamp-control-panel/start-up-your-mac-in-windows-or-macos-bcmp29b8ac66/mac">启动转换</a> 控制面板。</p>
<p>由于使用 OpenCore 提供的 <code>BOOTx64.efi</code> 作为首选启动项会限制这项功能（可能还会导致一些固件删除不兼容的引导选项），我们强烈建议你启用 <code>RequestBootVarRouting</code> Quirk，这会将你所做的选择保留在 OpenCore 变量空间中。请注意，<code>RequestBootVarRouting</code> 需要单独的 <code>.efi</code> 驱动文件（译者注：即 OpenRuntime.efi）。</p>
<h3 id="5-安装-macOS-最简单的方法是什么？"><a href="#5-安装-macOS-最简单的方法是什么？" class="headerlink" title="5. 安装 macOS 最简单的方法是什么？"></a>5. 安装 macOS 最简单的方法是什么？</h3><p>在线安装。将 Recovery 镜像（<code>*.dmg</code> 和 <code>*.chunklist</code> 文件）和 OpenCore 一起复制到一个 FAT32 分区中。加载 OpenCore 的启动菜单并选择后缀为 <code>.dmg</code> 的条目。如果你有强迫症，你可以修改 <code>.contentDetails</code> 文件改变条目显示的文字。</p>
<p>你可能会用到 <code>AppleModels</code> 内置的 <a target="_blank" rel="noopener" href="https://github.com/acidanthera/OpenCorePkg/blob/master/Utilities/macrecovery/macrecovery.py">macrecovery.py</a> 来下载 Recovery 镜像。</p>
<p>如果你需要进行离线安装，请参考 <a target="_blank" rel="noopener" href="https://support.apple.com/HT201372">如何创建可引导的 macOS 安装器</a>。除了通过 App Store 或 系统更新，你还可以使用 <a target="_blank" rel="noopener" href="https://github.com/corpnewt/gibMacOS">第三方工具</a> 下载 macOS 镜像文件。</p>
<h3 id="6-为什么无法加载-Recovery-恢复镜像-进行在线安装？"><a href="#6-为什么无法加载-Recovery-恢复镜像-进行在线安装？" class="headerlink" title="6. 为什么无法加载 Recovery 恢复镜像 进行在线安装？"></a>6. 为什么无法加载 Recovery 恢复镜像 进行在线安装？</h3><p>可能是因为你没带 HFS+ 驱动。目前我们所知道的 Recovery 分区全都是 HFS+ 文件系统。</p>
<h3 id="7-我可以在-Apple-的硬件、或虚拟机中使用-OpenCore-吗？"><a href="#7-我可以在-Apple-的硬件、或虚拟机中使用-OpenCore-吗？" class="headerlink" title="7. 我可以在 Apple 的硬件、或虚拟机中使用 OpenCore 吗？"></a>7. 我可以在 Apple 的硬件、或虚拟机中使用 OpenCore 吗？</h3><p><del>可以，没有必要，但请加大力度</del></p>
<p>OpenCore 支持包括 MacPro 5,1 和虚拟机在内的大部分较新的 Mac 型号。不过，OpenCore 有关在 Mac 硬件上使用的具体细节微乎其微。你可以在 <a target="_blank" rel="noopener" href="https://forums.macrumors.com/threads/opencore-on-the-mac-pro.2207814">MacRumors.com</a> 查看相关讨论。</p>
<h3 id="8-为什么-Find-和-Replace-的补丁的长度必须相等？"><a href="#8-为什么-Find-和-Replace-的补丁的长度必须相等？" class="headerlink" title="8. 为什么 Find 和 Replace 的补丁的长度必须相等？"></a>8. 为什么 Find 和 Replace 的补丁的长度必须相等？</h3><p>对于 x86 机器码来说，<a target="_blank" rel="noopener" href="https://en.wikipedia.org/w/index.php?title=Relative_addressing">相对寻址</a> 无法进行大小不同的替换。对于 ACPI 代码来说这是有风险的，而且在技术上这与替换 ACPI 表等价，所以 OpenCore 没有实现。更多详细的解答可以在 <a target="_blank" rel="noopener" href="https://applelife.ru/posts/819790">AppleLife.ru</a> 上和本文档的 ACPI 章节找到。</p>
<h3 id="9-我应该如何决定哪些-Booter-Quirk-需要被启用？"><a href="#9-我应该如何决定哪些-Booter-Quirk-需要被启用？" class="headerlink" title="9. 我应该如何决定哪些 Booter Quirk 需要被启用？"></a>9. 我应该如何决定哪些 <code>Booter</code> Quirk 需要被启用？</h3><p>这些 Quirk 源自 <code>AptioMemoryFix</code> 驱动，为更多的固件提供了广泛支持。如果你正在使用 <code>OpenRuntime</code>，并且想要获得和 <code>AptioMemoryFix</code> 类似的行为，请启用下述 Quirk：</p>
<ul>
<li><code>ProvideConsoleGop</code> （UEFI Quirk）</li>
<li><code>AvoidRuntimeDefrag</code></li>
<li><code>DiscardHibernateMap</code></li>
<li><code>EnableSafeModeSlide</code></li>
<li><code>EnableWriteUnprotector</code></li>
<li><code>ForceExitBootServices</code></li>
<li><code>ProtectMemoryRegions</code></li>
<li><code>ProvideCustomSlide</code></li>
<li><code>RebuildAppleMemoryMap</code></li>
<li><code>SetupVirtualMap</code></li>
</ul>
<p>但是，对于大部分现代的设备来说，上述 Quirk 不一定是必需的。比如 <code>DevirtualiseMmio</code> 和 <code>ProtectUefiServices</code> 通常是需要启用的，但是 <code>DiscardHibernateMap</code> 和 <code>ForceExitBootServices</code> 一般不建议启用。</p>
<p>不幸的是，对于某些 Quirk 来说（<code>RebuildAppleMemoryMap</code>, <code>EnableWriteUnprotector</code>, <code>ProtectMemoryRegions</code>, <code>SetupVirtualMap</code> 和 <code>SyncRuntimePermissions</code>）由于没有明确的参考，因此需要自行尝试最佳组合。详细内容请参考本文档中对这些 Quirk 的描述。</p>

            </div>

            <ul class="doku-pagination">
            <li class="page-item page-prev">
                <a href="/11-uefi.html">
                    <div class="page-item-subtitle"><span class="icon is-small"><i class="fas fa-arrow-left"></i></span> <span>前一页</span></div>
                    <div class="page-item-title h5">11. UEFI</div>
                </a>
            </li>
            <li class="page-item page-next">
                <a href="/kextlist.html">
                    <div class="page-item-subtitle"><span>后一页</span> <span class="icon is-small"><i class="fas fa-arrow-right"></i></span></div>
                    <div class="page-item-title h5">附录 1. OpenCore 兼容 Kext 列表</div>
                </a>
            </li></ul>
        </div>
        
        <div class="column is-3 is-narrow-touch is-hidden-mobile">
            <aside class="doku-document-toc" id="doku-document-toc">
                <div class="doku-document-toc-content">
                    <p class="doku-document-toc-title">目录</p>
                    <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-1-%E6%97%A7%E7%89%88-Apple-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="post-toc-text">12.1 旧版 Apple 操作系统</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-macOS-10-8-%E5%92%8C-10-9"><span class="post-toc-text">1. macOS 10.8 和 10.9</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-macOS-10-7"><span class="post-toc-text">2. macOS 10.7</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-macOS-10-6"><span class="post-toc-text">3. macOS 10.6</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-macOS-10-5"><span class="post-toc-text">4. macOS 10.5</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-macOS-10-4"><span class="post-toc-text">5. macOS 10.4</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-2-UEFI-%E5%AE%89%E5%85%A8%E5%90%AF%E5%8A%A8"><span class="post-toc-text">12.2 UEFI 安全启动</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-3-Windows-%E6%94%AF%E6%8C%81"><span class="post-toc-text">12.3 Windows 支持</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-%E6%88%91%E8%83%BD%E5%AE%89%E8%A3%85-Windows-%E7%B3%BB%E7%BB%9F%E5%90%97%EF%BC%9F"><span class="post-toc-text">1. 我能安装 Windows 系统吗？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-%E6%88%91%E9%9C%80%E8%A6%81%E5%AE%89%E8%A3%85%E5%85%B6%E4%BB%96%E4%BB%80%E4%B9%88%E8%BD%AF%E4%BB%B6%E5%90%97%EF%BC%9F"><span class="post-toc-text">2. 我需要安装其他什么软件吗？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E4%BC%9A%E5%9C%A8-Boot-Camp-%E5%90%AF%E5%8A%A8%E7%A1%AC%E7%9B%98-%E6%8E%A7%E5%88%B6%E9%9D%A2%E6%9D%BF-%E4%B8%AD%E7%9C%8B%E5%88%B0-Basic-data-partition%EF%BC%9F"><span class="post-toc-text">3. 为什么我会在 Boot Camp 启动硬盘 控制面板 中看到 Basic data partition？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9-NTFS-%E9%A9%B1%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="post-toc-text">4. 如何选择 NTFS 驱动程序</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-4-%E8%B0%83%E8%AF%95"><span class="post-toc-text">12.4 调试</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#12-5-%E6%8A%80%E5%B7%A7%E5%92%8C%E7%AA%8D%E9%97%A8"><span class="post-toc-text">12.5 技巧和窍门</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-%E5%95%8A%E5%91%80%E5%91%80%E5%91%80%E6%88%91%E7%B3%BB%E7%BB%9F%E6%B2%A1%E6%B3%95%E5%90%AF%E5%8A%A8%E4%BA%86%E6%88%91%E8%AF%A5%E6%80%8E%E4%B9%88%E7%9C%8B%E6%97%A5%E5%BF%97%E5%95%8A%EF%BC%9F"><span class="post-toc-text">1. 啊呀呀呀我系统没法启动了我该怎么看日志啊？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-macOS-%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5%E6%88%91%E8%AF%A5%E6%80%8E%E4%B9%88%E8%B0%83%E8%AF%95%EF%BC%9F"><span class="post-toc-text">2. macOS 启动失败我该怎么调试？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-%E5%A6%82%E4%BD%95%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%AF%E5%8A%A8%E9%A1%B9%EF%BC%9F"><span class="post-toc-text">3. 如何自定义启动项？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-%E5%A6%82%E4%BD%95%E9%80%89%E6%8B%A9%E9%BB%98%E8%AE%A4%E5%90%AF%E5%8A%A8%E7%9A%84%E7%B3%BB%E7%BB%9F%EF%BC%9F"><span class="post-toc-text">4. 如何选择默认启动的系统？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-%E5%AE%89%E8%A3%85-macOS-%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E6%96%B9%E6%B3%95%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="post-toc-text">5. 安装 macOS 最简单的方法是什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#6-%E4%B8%BA%E4%BB%80%E4%B9%88%E6%97%A0%E6%B3%95%E5%8A%A0%E8%BD%BD-Recovery-%E6%81%A2%E5%A4%8D%E9%95%9C%E5%83%8F-%E8%BF%9B%E8%A1%8C%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85%EF%BC%9F"><span class="post-toc-text">6. 为什么无法加载 Recovery 恢复镜像 进行在线安装？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-%E6%88%91%E5%8F%AF%E4%BB%A5%E5%9C%A8-Apple-%E7%9A%84%E7%A1%AC%E4%BB%B6%E3%80%81%E6%88%96%E8%99%9A%E6%8B%9F%E6%9C%BA%E4%B8%AD%E4%BD%BF%E7%94%A8-OpenCore-%E5%90%97%EF%BC%9F"><span class="post-toc-text">7. 我可以在 Apple 的硬件、或虚拟机中使用 OpenCore 吗？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#8-%E4%B8%BA%E4%BB%80%E4%B9%88-Find-%E5%92%8C-Replace-%E7%9A%84%E8%A1%A5%E4%B8%81%E7%9A%84%E9%95%BF%E5%BA%A6%E5%BF%85%E9%A1%BB%E7%9B%B8%E7%AD%89%EF%BC%9F"><span class="post-toc-text">8. 为什么 Find 和 Replace 的补丁的长度必须相等？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#9-%E6%88%91%E5%BA%94%E8%AF%A5%E5%A6%82%E4%BD%95%E5%86%B3%E5%AE%9A%E5%93%AA%E4%BA%9B-Booter-Quirk-%E9%9C%80%E8%A6%81%E8%A2%AB%E5%90%AF%E7%94%A8%EF%BC%9F"><span class="post-toc-text">9. 我应该如何决定哪些 Booter Quirk 需要被启用？</span></a></li></ol></li></ol>
                </div>
            </aside>
        </div>
        
    </div>
</article>

                <footer>
    <div class="doku-footer-container is-clearfix">
        <div class="doku-footer-item is-pulled-left">&copy; <span id="doku-copyrght-year"></span> <a href="/">OpenCore 简体中文参考手册(非官方)</a></div>

        <div class="doku-footer-item is-pulled-right">Powered by <a href="https://hexo.io" target="_blank" rel="external noopenner nofollow">Hexo</a> & <a href="https://github.com/SukkaW/hexo-theme-doku" target="_blank" rel="external noopenner nofollow">Doku</a></div>
    </div>
</footer>

            </main>
        </section>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/stickyfilljs@2.1.0/dist/stickyfill.min.js"></script>
    <script src="/theme-doku/js/doku.js"></script>
</body>

</html>
